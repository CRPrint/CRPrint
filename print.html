<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copy & Print Command Center | CopyRight Systems</title>
    <script src="navigation.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #F8FAFC;
            line-height: 1.6;
        }

        /* Command Center Layout */
        .command-center {
            max-width: 1280px;
            margin: 0 auto;
            padding: 1.5rem 1rem;
            display: grid;
            grid-template-columns: 235px 1fr 265px;
            gap: 1rem;
            align-items: start;
        }

        /* Left Column - Detail Card (Glassmorphism) */
        .detail-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 98, 255, 0.2);
            border-radius: 16px;
            padding: 1rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 2rem;
        }

        .detail-title {
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #0066FF;
            margin-bottom: 1rem;
        }

        .paper-description {
            font-size: 0.9rem;
            line-height: 1.6;
            color: var(--text-main);
        }

        .paper-weight-label {
            font-weight: 700;
            color: var(--deep-charcoal);
            margin-bottom: 0.5rem;
            display: block;
        }

        /* Center Panel - Configuration Engine */
        .config-engine {
            background: var(--white);
            border-radius: 16px;
            padding: 1rem;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            border: 1px solid #E5E7EB;
        }

        .engine-title {
            font-family: 'Segoe UI', Arial, sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            text-transform: uppercase;
            margin-bottom: 2rem;
            color: var(--deep-charcoal);
        }

        .config-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 0;
        }

        .config-item {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .config-label {
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-muted);
        }

        /* Toggle Buttons */
        .toggle-group {
            display: flex;
            gap: 0.5rem;
            background: #F1F5F9;
            padding: 0.25rem;
            border-radius: 8px;
        }

        .toggle-btn {
            flex: 1;
            padding: 0.5rem;
            border-radius: 6px;
            border: none;
            background: transparent;
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
        }

        .toggle-btn.active {
            background: var(--white);
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.2);
            color: #0066FF;
            transform: translateY(-1px);
        }

        .toggle-btn:hover:not(.active) {
            background: rgba(255, 255, 255, 0.5);
        }

        /* Dropdown Select */
        select.config-select {
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
            background: var(--white);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s;
        }

        select.config-select:focus {
            outline: none;
            border-color: #0066FF;
            box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
        }

        /* Quantity Control */
        .qty-control {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: #F1F5F9;
            padding: 0.35rem;
            border-radius: 8px;
            width: fit-content;
        }

        .qty-btn {
            width: 30px;
            height: 30px;
            border-radius: 6px;
            border: none;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: 800;
            font-size: 1rem;
            color: #0066FF;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .qty-value {
            font-weight: 800;
            font-size: 1rem;
            min-width: 40px;
            text-align: center;
            color: var(--deep-charcoal);
        }

        /* Add-ons Chips */
        .addon-chips {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .addon-chip {
            padding: 0.6rem 1.2rem;
            border-radius: 100px;
            border: 2px solid #E5E7EB;
            background: var(--white);
            font-size: 0.85rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .addon-chip input[type="checkbox"] {
            display: none;
        }

        .addon-chip.selected {
            border-color: #0066FF;
            background: rgba(0, 102, 255, 0.05);
            color: #0066FF;
        }

        .addon-chip .material-symbols-outlined {
            font-size: 18px;
        }

        /* Right Panel - Checkout Hub */
        .checkout-hub {
            background: var(--deep-charcoal);
            color: var(--white);
            border-radius: 16px;
            padding: 1rem;
            position: sticky;
            top: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .live-total {
            text-align: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .total-label {
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #94A3B8;
            margin-bottom: 0.4rem;
        }

        .total-amount {
            font-size: 1.6rem;
            font-weight: 900;
            color: var(--white);
            line-height: 1;
        }

        .cta-stack {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .btn-secondary {
            padding: 0.75rem;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: transparent;
            color: var(--white);
            font-weight: 700;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-secondary:hover {
            border-color: var(--white);
            background: rgba(255, 255, 255, 0.05);
        }

        .btn-primary {
            padding: 0.85rem;
            border-radius: 12px;
            border: none;
            background: #0066FF;
            color: var(--white);
            font-weight: 800;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 4px 16px rgba(0, 102, 255, 0.3);
        }

        .btn-primary:hover {
            background: #0052CC;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 102, 255, 0.4);
        }

        .btn-master {
            padding: 0.85rem;
            border-radius: 12px;
            border: none;
            background: #0066FF;
            color: var(--white);
            font-weight: 900;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 20px rgba(0, 102, 255, 0.4);
        }

        .btn-master:hover {
            background: #0052CC;
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 102, 255, 0.5);
        }

        /* Pick-Up Logistics */
        .pickup-logistics {
            grid-column: 1 / -1;
            background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%);
            border: 1px solid rgba(0, 98, 255, 0.2);
            border-radius: 12px;
            padding: 1.25rem;
            margin-top: 1rem;
        }

        .pickup-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .pickup-header .material-symbols-outlined {
            color: var(--primary-blue);
            font-size: 24px;
        }

        .pickup-header h3 {
            font-size: 0.9rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--deep-charcoal);
            margin: 0;
        }

        .datetime-picker {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .datetime-input {
            padding: 0.75rem 1rem;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
            background: var(--white);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-main);
            cursor: pointer;
            transition: all 0.2s;
        }

        .datetime-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 98, 255, 0.1);
        }

        .rush-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: #FEF3C7;
            color: #92400E;
            padding: 0.5rem 1rem;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 0.75rem;
            border: 1px solid #FCD34D;
        }

        .rush-badge .material-symbols-outlined {
            font-size: 16px;
            color: #F59E0B;
        }

        .rush-badge.hidden {
            display: none;
        }

        @media (max-width: 1200px) {
            .command-center {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .detail-card,
            .checkout-hub {
                position: static;
            }

            .config-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .config-grid {
                grid-template-columns: 1fr;
            }
        }

        /* STATUS GLOW ANIMATION */
        @keyframes emerald-glow {
            0% {
                box-shadow: 0 0 4px #10B981, 0 0 10px rgba(16, 185, 129, 0.4);
            }

            50% {
                box-shadow: 0 0 12px #10B981, 0 0 20px rgba(16, 185, 129, 0.6);
            }

            100% {
                box-shadow: 0 0 4px #10B981, 0 0 10px rgba(16, 185, 129, 0.4);
            }
        }

        .dot-glow {
            animation: emerald-glow 2s infinite ease-in-out;
            background-color: #10B981 !important;
        }
    </style>
</head>

<body>


    <section class="hero"
        style="position: relative; height: 300px; display: flex; align-items: center; background: url('./assets/copyright_staff_hero.png') center/cover no-repeat; color: var(--white); overflow: visible; z-index: 3000;">

        <!-- Lightened Overlay (30% opacity) -->
        <div class="hero-overlay-mask"
            style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.3); z-index: 1;">
        </div>

        <!-- Left-Aligned Hero Content -->
        <div class="container"
            style="position: relative; z-index: 100; width: 100%; max-width: none; padding: 0 40px; margin: 0; display: flex; flex-direction: column; align-items: center; height: 100%;">

            <!-- Brand Logo Text (Non-Image) - Aligned to Home Page Style -->
            <div style="position: absolute; left: 40px; top: 15px;">
                <div
                    style="font-family: 'Segoe UI', Arial, sans-serif; font-size: 1.6rem; font-weight: 800; line-height: 1; text-transform: uppercase; letter-spacing: 0.02em; text-shadow: 0 2px 6px rgba(0,0,0,0.8);">
                    <span style="color: white;">COPYRIGHT</span><span style="color: #0062FF;">PRINTING</span>
                </div>
            </div>

            <!-- Cat Logo - Synchronized with Home Page -->
            <img src="./assets/cr_logo_cat.png" alt="CopyRight Logo"
                style="position: absolute; right: 40px; top: 140px; height: 100px; width: auto; opacity: 0.7; filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5)); z-index: -1;">

            <!-- Business Block -->
            <div class="business-block"
                style="position: absolute; left: 40px; top: 65px; text-align: left; font-size: 0.75rem; font-weight: 500; line-height: 1.5; color: var(--white); text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);">
                <!-- 1. Open Status -->
                <div class="status-indicator"
                    style="display: flex; align-items: center; gap: 0.6rem; font-weight: 800; letter-spacing: 0.1em; margin-bottom: 0.2rem;">
                    <div id="store-status-dot"
                        style="width: 10px; height: 10px; border-radius: 50%; background: #EF4444; border: 1px solid rgba(0,0,0,0.1); transition: all 0.3s; flex-shrink: 0;">
                    </div>
                    <span id="store-status-text"
                        style="color: #EF4444; font-size: 1.1rem; line-height: 1;">CLOSED</span>
                </div>
                <!-- 2. Weekday Hours -->
                <div>M-F 9:00 AM - 5:00 PM</div>
                <!-- 3. Weekend Hours -->
                <div>SAT 11:00 AM - 2:00 PM</div>
                <!-- 4. Address Line 1 -->
                <div style="margin-top: 0.4rem;">5708 Hollister Avenue</div>
                <!-- 5. Location Note -->
                <div style="font-style: italic; opacity: 0.9;">under the red awning</div>
                <!-- 6. City/State -->
                <div>Goleta CA 93117</div>
                <!-- 7. Email -->
                <div style="margin-top: 0.4rem;">
                    <a href="mailto:orders@copyrightsb.com"
                        style="color: inherit; text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,0.5);">orders@copyrightsb.com</a>
                </div>
            </div>

            <!-- Spacer with Hero Title (Raised) -->
            <div
                style="height: 48px; width: 100%; display: flex; align-items: flex-end; justify-content: center; margin-top: -10px;">
                <h1 class="hero-title"
                    style="font-family: 'Segoe UI', Arial, sans-serif; font-size: 1.76rem; margin: 0; font-weight: 800; text-align: center; width: 100%; line-height: 1; text-transform: uppercase; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); color: white;">
                    Copy & Print Command Center
                </h1>
            </div>

            <!-- Action Buttons (Centered Stack) -->
            <div
                style="flex-grow: 1; display: flex; align-items: center; justify-content: center; width: 100%; position: relative;">
                <div class="action-stack"
                    style="display: flex; flex-direction: column; gap: 0.6rem; align-items: center; justify-content: center; margin-top: -5px; width: 100%;">

                    <!-- 1. Track Package -->
                    <button class="btn btn-track" onclick="toggleTrackingModal()"
                        style="padding: 0.5rem; width: 280px; background-color: #0062FF; color: var(--white); border-radius: 14px; border: none; font-weight: 700; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: all 0.3s; cursor: pointer;">
                        <span style="font-weight: 800; font-size: 0.9rem;">TRACK PACKAGE</span>
                        <span style="font-size: 0.65rem; opacity: 0.9; font-weight: 500;">UPS, FedEx, DHL, USPS</span>
                    </button>

                    <!-- 2. Start Copy Order (Custom Orders & Quotes) -->
                    <button class="btn btn-white"
                        onclick="window.open('https://spaces.hightail.com/space/iYWqhG9d3k', '_blank')"
                        style="padding: 1rem 0.5rem; width: 280px; background-color: var(--white); color: var(--deep-charcoal); border-radius: 14px; border: none; font-weight: 700; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; text-align: center;">
                        <span style="font-weight: 800; font-size: 0.9rem; text-transform: uppercase;">Custom Orders &
                            Quotes</span>
                        <span
                            style="font-size: 0.65rem; opacity: 0.9; font-weight: 500; margin-top: 4px; line-height: 1.2;">Upload
                            Blueprints, Bulk Projects, or Manuscripts.</span>
                    </button>

                    <!-- 3. Book Services (Dropdown) -->
                    <div style="position: relative; display: inline-block; z-index: 10001;">
                        <button onclick="toggleAppointmentMenu()" id="bookBtn"
                            style="background: #d4af37; color: #000; padding: 0.5rem; width: 280px; border: none; font-weight: 800; text-transform: uppercase; cursor: pointer; border-radius: 14px; letter-spacing: 1px; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.3s; height: 48px;">
                            BOOK A SERVICE <span id="btnArrow">↓</span>
                        </button>

                        <div id="appointmentDropdown"
                            style="display: none; position: absolute; top: 100%; left: 50%; transform: translateX(-50%); width: 650px; background: #1A1A1A; border: 1px solid #D4AF37; z-index: 999999 !important; box-shadow: 0 20px 50px rgba(0,0,0,0.9); border-radius: 12px; overflow: hidden; text-align: left; padding: 25px;">

                            <div style="display: flex; gap: 20px; justify-content: space-between;">
                                <!-- Pillar 1: IN-OFFICE -->
                                <div
                                    style="flex: 1; border-right: 1px solid rgba(212, 175, 55, 0.2); padding-right: 10px;">
                                    <div
                                        style="font-size: 0.75rem; font-weight: 900; color: #D4AF37; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 12px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 4px;">
                                        IN-OFFICE</div>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/notary" target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Notary <span>→</span></a>
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/live-scan" target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Live Scan <span>→</span></a>
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/shred-while-you-wait"
                                            target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Shred-While-You-Wait <span>→</span></a>
                                    </div>
                                </div>

                                <!-- Pillar 2: MOBILE UNITS -->
                                <div
                                    style="flex: 1; border-right: 1px solid rgba(212, 175, 55, 0.2); padding-right: 10px;">
                                    <div
                                        style="font-size: 0.75rem; font-weight: 900; color: #D4AF37; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 12px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 4px;">
                                        MOBILE UNITS</div>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/mobile-services-notary"
                                            target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Mobile Notary <span>→</span></a>
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/mobile-services-live-scan"
                                            target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Mobile Live Scan <span>→</span></a>
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/mobile-services-shredding"
                                            target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Mobile Shredding <span>→</span></a>
                                    </div>
                                </div>

                                <!-- Pillar 3: CREATIVE -->
                                <div style="flex: 1;">
                                    <div
                                        style="font-size: 0.75rem; font-weight: 900; color: #D4AF37; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 12px; border-bottom: 1px solid rgba(212, 175, 55, 0.3); padding-bottom: 4px;">
                                        CREATIVE</div>
                                    <div style="display: flex; flex-direction: column; gap: 8px;">
                                        <a href="https://cal.com/phebe-mansur-s4ynzd/graphic-design" target="_blank"
                                            style="color: #fff; text-decoration: none; font-size: 12px; font-weight: 600; transition: 0.2s;"
                                            onmouseover="this.style.color='#D4AF37'"
                                            onmouseout="this.style.color='#fff'">Graphic & Web Design <span>→</span></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <script>
                function toggleAppointmentMenu() {
                    var d = document.getElementById("appointmentDropdown");
                    var a = document.getElementById("btnArrow");
                    var isHidden = (d.style.display === "none" || d.style.display === "");
                    d.style.display = isHidden ? "block" : "none";
                    a.innerHTML = isHidden ? "↑" : "↓";
                }

                window.onclick = function (e) {
                    if (!e.target.closest('#bookBtn')) {
                        var d = document.getElementById("appointmentDropdown");
                        if (d) {
                            d.style.display = "none";
                            document.getElementById("btnArrow").innerHTML = "↓";
                        }
                    }
                }
            </script>
        </div>
        <!-- Neural Cat AI Bar -->
        <div class="neural-cat-bar"
            style="position: absolute; bottom: 0; left: 0; right: 0; padding: 0.5rem 0; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(5px); z-index: 20; border-top: 1px solid rgba(255, 255, 255, 0.1);">
            <div class="container" style="max-width: none; padding: 0 40px;">
                <div class="neural-content" style="display: flex; align-items: center; justify-content: space-between;">
                    <div class="neural-label"
                        style="font-size: 0.7rem; letter-spacing: 0.2em; font-weight: 800; color: var(--white); display: flex; align-items: center; gap: 0.8rem;">
                        <img src="./assets/neural_cat_logo.png" alt="Neural Cat AI" class="neural-icon-img"
                            style="width: 18px; height: 18px;">
                        POWERED BY NEURAL CAT AI
                    </div>
                    <div class="everytown-label"
                        style="font-size: 0.7rem; letter-spacing: 0.2em; font-weight: 800; color: var(--white); display: flex; align-items: center; gap: 0.8rem;">
                        SHOP EVERYTOWN
                        <img src="./assets/shopeverytown-logo-white.png" alt="Shop EveryTown" class="everytown-icon-img"
                            style="width: 18px; height: 18px;">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <nav
        style="background: white; border-bottom: 1px solid #eee; padding: 0 40px 0 0; height: 60px; display: flex; align-items: center;">
        <div class="nav-container" style="width: 100%; display: flex; align-items: center;">
            <div class="nav-links" style="display: flex; gap: 20px; margin-left: -40px;">
                <a href="shipping.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Shipping</a>
                <a href="mailboxes.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Mailboxes</a>
                <a href="print.html"
                    style="color: #4ade80; text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Copy
                    & Print</a>
                <a href="legal.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Legal</a>
                <a href="ai-tools.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">AI
                    Tools</a>
                <a href="branding.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Branding</a>
                <a href="creative.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Creative
                    & Publishing</a>
                <a href="retail.html"
                    style="color: var(--deep-charcoal); text-decoration: none; font-size: 0.75rem; font-weight: 700; text-transform: uppercase;">Retail</a>
            </div>
            <div class="site-search"
                style="display: flex; align-items: center; background: #f3f4f6; padding: 6px 15px; border-radius: 100px; border: 1px solid #e5e7eb; width: 300px; margin-left: auto;">
                <span class="material-symbols-outlined" style="color: #9ca3af; font-size: 1.1rem;">search</span>
                <input type="text" placeholder="Search services..."
                    style="border: none; background: transparent; outline: none; margin-left: 10px; width: 100%; font-size: 0.8rem; color: var(--dark); font-family: inherit;">
            </div>
        </div>
    </nav>

    <!-- Section Header -->
    <div style="max-width: 1400px; margin: 0 auto; padding: 1.5rem 2rem 0.5rem;">
        <h2
            style="font-family: 'Segoe UI', Arial, sans-serif; font-size: 1.8rem; font-weight: 900; text-transform: uppercase; margin: 0; color: var(--deep-charcoal); text-align: center;">
            Start Your Order
        </h2>
        <p style="text-align: center; font-size: 0.9rem; color: #64748b; margin-top: 0.5rem; font-weight: 500;">
            High-volume or complex project? <a href="#"
                onclick="document.getElementById('quote-form-section').scrollIntoView({ behavior: 'smooth', block: 'start' }); return false;"
                style="color: #0066FF; text-decoration: underline; font-weight: 700;">Request a Custom Quote
                for bulk pricing.</a>
        </p>
    </div>

    <!-- Copy & Print Command Center -->
    <div class="command-center">
        <!-- Left Column: Detail Card -->
        <div class="detail-card">
            <div class="detail-title">Paper Specification</div>
            <span class="paper-weight-label" id="paper-weight-display">20lb Bond (Standard)</span>
            <p class="paper-description" id="paper-description">
                Everyday office paper. Ideal for internal documents, drafts, and high-volume printing where cost
                efficiency is paramount.
            </p>

            <!-- Dynamic Proofing Card -->
            <div id="preview-display"
                style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid rgba(0,0,0,0.1); transition: all 0.3s ease-in-out; display: flex; flex-direction: column; flex-grow: 1; min-height: 380px;">
                <div
                    style="height: 100%; width: 100%; background: #F4F4F4; border-radius: 12px; border: 2px dashed #CBD5E1; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 0.5rem; color: #94A3B8;">
                    <span class="material-symbols-outlined" style="font-size: 32px; opacity: 0.5;">preview</span>
                    <span style="font-size: 0.75rem; font-weight: 600;">Select finishing to preview</span>
                </div>
            </div>
        </div>

        <!-- Center Panel: Configuration Engine -->
        <div class="config-engine">
            <div class="config-grid" style="gap: 1rem 1.5rem;">
                <!-- Column 1: Logical Toggles -->
                <div class="config-item">
                    <label class="config-label" style="margin-bottom: 0.2rem;">Color Mode</label>
                    <div class="toggle-group">
                        <button class="toggle-btn active" onclick="setColor('bw', this)">B&W</button>
                        <button class="toggle-btn" onclick="setColor('color', this)">Color</button>
                    </div>
                    <label class="config-label" style="margin-bottom: 0.2rem; margin-top: 0.5rem;">Sides</label>
                    <div class="toggle-group">
                        <button class="toggle-btn active" onclick="setSides('single', this)">1-Sided</button>
                        <button class="toggle-btn" onclick="setSides('duplex', this)">2-Sided</button>
                    </div>
                </div>

                <!-- Column 2: Material Specification -->
                <div class="config-item">
                    <label class="config-label" style="margin-bottom: 0.2rem;">Paper Size</label>
                    <select class="config-select" id="paper-size" onchange="updatePaperSize()">
                        <option value="letter">Letter (8.5" × 11")</option>
                        <option value="legal">Legal (8.5" × 14")</option>
                        <option value="ledger">Ledger (11" × 17")</option>
                    </select>
                    <label class="config-label" style="margin-bottom: 0.2rem; margin-top: 0.5rem;">Paper Type</label>
                    <select class="config-select" id="paper-weight" onchange="updatePaperWeight()">
                        <option value="20lb">20lb Bond (Standard)</option>
                        <option value="24lb">24lb Bond (Premium)</option>
                        <option value="28lb">28lb Bond (Heavy)</option>
                        <option value="32lb">32lb Bond (Ultra)</option>
                        <option value="65lb">65lb Cover (Cardstock)</option>
                        <option value="80lb">80lb Cover (Thick)</option>
                        <option value="100lb">100lb Cover (Premium)</option>
                    </select>
                </div>

                <!-- Column 3: Volume & Quantity (Consolidated Row) -->
                <div class="config-item">
                    <div style="display: flex; gap: 0.75rem; align-items: flex-end;">
                        <div style="flex: 1;">
                            <label class="config-label" style="margin-bottom: 0.2rem; white-space: nowrap;">Pages /
                                File</label>
                            <div class="qty-control" style="width: 100%; justify-content: space-between;">
                                <button class="qty-btn" onclick="updatePagesPerOriginal(-1)">−</button>
                                <span class="qty-value" id="pages-display">1</span>
                                <button class="qty-btn" onclick="updatePagesPerOriginal(1)">+</button>
                            </div>
                        </div>
                        <div style="flex: 1;">
                            <label class="config-label"
                                style="margin-bottom: 0.2rem; white-space: nowrap;">Quantity</label>
                            <div class="qty-control" style="width: 100%; justify-content: space-between;">
                                <button class="qty-btn" onclick="updateQty(-1)">−</button>
                                <span class="qty-value" id="qty-display">1</span>
                                <button class="qty-btn" onclick="updateQty(1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: 0.75rem;">
                        <label class="config-label" style="margin-bottom: 0.4rem; display: block;">Available
                            Add-ons</label>
                        <div class="addon-group-container" style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <!-- Standard Add-ons -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.4rem;">
                                <label class="addon-chip"
                                    style="padding: 0.35rem 0.5rem; font-size: 0.7rem; justify-content: flex-start; width: 100%;">
                                    <input type="checkbox" value="3-hole" onchange="toggleAddon(this)">
                                    <span class="material-symbols-outlined"
                                        style="font-size: 14px;">radio_button_unchecked</span>
                                    3-Hole Punch
                                </label>
                                <label class="addon-chip"
                                    style="padding: 0.35rem 0.5rem; font-size: 0.7rem; justify-content: flex-start; width: 100%;">
                                    <input type="checkbox" value="staple" onchange="toggleAddon(this)">
                                    <span class="material-symbols-outlined"
                                        style="font-size: 14px;">radio_button_unchecked</span>
                                    Corner Staple
                                </label>
                            </div>

                            <!-- Lamination & Binding Row -->
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.4rem;">
                                <!-- Lamination Group -->
                                <div class="addon-expandable"
                                    style="background: white; border-radius: 12px; border: 1px solid #E5E7EB; overflow: hidden;">
                                    <label class="addon-chip header"
                                        onclick="toggleExpandable(this, 'lamination-options')"
                                        style="padding: 0.35rem 0.5rem; font-size: 0.7rem; justify-content: flex-start; width: 100%; border: none; border-radius: 0;">
                                        <input type="checkbox" value="laminating"
                                            onchange="handleParentToggle(this, 'lamination-options')">
                                        <span class="material-symbols-outlined"
                                            style="font-size: 14px;">radio_button_unchecked</span>
                                        Laminate
                                    </label>
                                    <div id="lamination-options" class="sub-options"
                                        style="display: none; padding: 0.5rem; background: #F8FAFC; border-top: 1px solid #E5E7EB;">
                                        <div style="display: flex; flex-direction: column; gap: 0.3rem;">
                                            <label
                                                style="display: flex; align-items: center; gap: 0.2rem; font-size: 0.65rem; color: #475569; cursor: pointer;">
                                                <input type="radio" name="lamination_type" value="3ml" checked
                                                    onchange="calculateTotal()">
                                                3mil Flex
                                            </label>
                                            <label
                                                style="display: flex; align-items: center; gap: 0.2rem; font-size: 0.65rem; color: #475569; cursor: pointer;">
                                                <input type="radio" name="lamination_type" value="5ml"
                                                    onchange="calculateTotal()">
                                                5mil Rigid
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <!-- Binding Group -->
                                <div class="addon-expandable"
                                    style="background: white; border-radius: 12px; border: 1px solid #E5E7EB; overflow: hidden;">
                                    <label class="addon-chip header" onclick="toggleExpandable(this, 'binding-options')"
                                        style="padding: 0.35rem 0.5rem; font-size: 0.7rem; justify-content: flex-start; width: 100%; border: none; border-radius: 0;">
                                        <input type="checkbox" value="binding"
                                            onchange="handleParentToggle(this, 'binding-options')">
                                        <span class="material-symbols-outlined"
                                            style="font-size: 14px;">radio_button_unchecked</span>
                                        Binding
                                    </label>
                                    <div id="binding-options" class="sub-options"
                                        style="display: none; padding: 0.5rem; background: #F8FAFC; border-top: 1px solid #E5E7EB;">
                                        <div
                                            style="margin-bottom: 0.3rem; font-size: 0.6rem; color: #64748B; font-style: italic; line-height: 1.1;">
                                            Inc. Clear Front / Black Back
                                        </div>
                                        <div style="display: flex; flex-direction: column; gap: 0.3rem;">
                                            <label
                                                style="display: flex; align-items: center; gap: 0.2rem; font-size: 0.65rem; color: #475569; cursor: pointer;">
                                                <input type="radio" name="binding_type" value="coil" checked
                                                    onchange="calculateTotal()">
                                                Coil
                                            </label>
                                            <label
                                                style="display: flex; align-items: center; gap: 0.2rem; font-size: 0.65rem; color: #475569; cursor: pointer;">
                                                <input type="radio" name="binding_type" value="comb"
                                                    onchange="calculateTotal()">
                                                Comb
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="config-item" style="grid-column: 1 / -1; margin-top: 0.5rem; text-align: center;">
                    <label class="config-label" style="margin-bottom: 0.4rem; display: block;">Custom Finishing &
                        Quoting</label>
                    <div class="addon-chips" style="justify-content: center; gap: 0.4rem;">
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="cutting">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Cutting
                        </label>
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="folding">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Folding
                        </label>
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="scoring">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Scoring
                        </label>
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="perforation">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Perforation
                        </label>
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="padding">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Padding
                        </label>
                        <label class="addon-chip" onclick="toggleAddon(this)"
                            style="padding: 0.35rem 0.5rem; font-size: 0.7rem; width: auto;">
                            <input type="checkbox" value="saddle-staple">
                            <span class="material-symbols-outlined"
                                style="font-size: 14px;">radio_button_unchecked</span>
                            Saddle Staple
                        </label>
                    </div>
                </div>
            </div>

            <!-- Pick-Up Logistics (Full Width) -->
            <div class="pickup-logistics">
                <div class="pickup-header">
                    <span class="material-symbols-outlined">schedule</span>
                    <h3>Pick-Up Logistics</h3>
                </div>
                <div class="datetime-picker">
                    <div>
                        <label class="config-label" style="margin-bottom: 0.5rem; display: block;">Pick-Up
                            Date</label>
                        <input type="date" id="pickup-date" class="datetime-input" onchange="validatePickupTime()">
                    </div>
                    <div>
                        <label class="config-label" style="margin-bottom: 0.5rem; display: block;">Pick-Up
                            Time</label>
                        <select id="pickup-time" class="datetime-input" onchange="validatePickupTime()">
                            <option value="">Select time...</option>
                        </select>
                    </div>
                </div>
                <div id="rush-indicator" class="rush-badge hidden">
                    <span class="material-symbols-outlined">bolt</span>
                    Ready for Express Pickup (+$5.00 Rush Fee)
                </div>
            </div>
        </div>
        <!-- Right Panel: Checkout Hub -->
        <div class="checkout-hub">
            <div class="live-total">
                <div class="total-label">Live Total</div>
                <div class="total-amount" id="total-price">$12.50</div>
            </div>

            <div class="cta-stack">
                <button class="btn-secondary" onclick="addAnotherJob()">
                    + Add Another Job to Order
                </button>
                <button class="btn-primary"
                    onclick="window.open('https://spaces.hightail.com/space/SOhrfuFZ5x', '_blank')"
                    style="cursor: pointer;">
                    <span class="material-symbols-outlined">cloud_upload</span>
                    Upload File
                </button>
                <button class="btn-master" id="main-cta" onclick="checkout()">
                    Check Out and Pay
                </button>
            </div>
        </div>
    </div>
    </div>





    <!-- Professional Printing & Large Format Section -->
    <section style="max-width: 1200px; margin: 4rem auto 0; padding: 0 3rem;">
        <!-- Section Header -->
        <div style="text-align: center; margin-bottom: 2.5rem;">
            <h2
                style="font-family: 'Segoe UI', Arial, sans-serif; font-size: 1.8rem; font-weight: 900; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal);">
                Professional Printing & Large Format
            </h2>
            <p style="font-size: 1rem; color: #64748B; font-weight: 600; margin: 0;">
                Precision execution for high-impact branding.
            </p>
        </div>

        <!-- Capabilities Grid -->
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 3rem;">
            <!-- Marketing Materials -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem; text-align: center;">
                <div
                    style="width: 48px; height: 48px; background: var(--primary-blue); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 28px;">description</span>
                </div>
                <h3
                    style="font-size: 1rem; font-weight: 800; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal); text-align: center;">
                    Marketing & Brand Collateral
                </h3>
                <p
                    style="font-size: 0.75rem; color: #64748B; font-style: italic; margin: 0 0 1rem 0; text-align: center;">
                    Professionalism and "The Author's Studio" level of quality.
                </p>
                <ul
                    style="font-size: 0.8rem; color: var(--deep-charcoal); line-height: 1.7; margin: 0; padding-left: 0; list-style-type: none; text-align: left;">
                    <li style="margin-bottom: 0.75rem;"><strong>Premium Brochures:</strong> Tri-fold, Z-fold, or
                        gate-fold on high-weight 100lb silk or gloss text.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Presentation Folders:</strong> Custom die-cut pockets
                        with business card slits to house your logistics or branding proposals.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Catalogs & Lookbooks:</strong> Saddle-stitched or
                        perfect-bound (book-style) finishing for product showcases.</li>
                    <li><strong>Executive Stationery:</strong> Letterheads and envelopes on watermarked or textured
                        linen paper for that "established brand" feel.</li>
                </ul>
            </div>

            <!-- Large Format -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem; text-align: center;">
                <div
                    style="width: 48px; height: 48px; background: var(--primary-blue); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 28px;">wallpaper</span>
                </div>
                <h3
                    style="font-size: 1rem; font-weight: 800; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal); text-align: center;">
                    Large Format & Environmental Graphics
                </h3>
                <p
                    style="font-size: 0.75rem; color: #64748B; font-style: italic; margin: 0 0 1rem 0; text-align: center;">
                    Visibility and high-velocity local impact.
                </p>
                <ul
                    style="font-size: 0.8rem; color: var(--deep-charcoal); line-height: 1.7; margin: 0; padding-left: 0; list-style-type: none; text-align: left;">
                    <li style="margin-bottom: 0.75rem;"><strong>Heavy-Duty Banners:</strong> 13oz or 18oz scrim vinyl
                        with grommets and hemmed edges for outdoor durability.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Retractable Pop-Up Displays:</strong> Portable 33" x 80"
                        stands for trade shows or "Shop EveryTown" event pop-ups.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Architectural Posters:</strong> High-resolution photo
                        printing on satin finish paper for blueprints or retail decor.</li>
                    <li><strong>Window & Floor Graphics:</strong> Perforated window film (see-through from inside) or
                        slip-resistant floor decals for "Neural" pathing in retail spaces.</li>
                </ul>
            </div>

            <!-- Specialized Finish -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem; text-align: center;">
                <div
                    style="width: 48px; height: 48px; background: var(--primary-blue); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 28px;">auto_awesome</span>
                </div>
                <h3
                    style="font-size: 1rem; font-weight: 800; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal); text-align: center;">
                    Specialized Finishing & Artistry
                </h3>
                <p
                    style="font-size: 0.75rem; color: #64748B; font-style: italic; margin: 0 0 1rem 0; text-align: center;">
                    Tactile luxury and high-margin "Specialty" work.
                </p>
                <ul
                    style="font-size: 0.8rem; color: var(--deep-charcoal); line-height: 1.7; margin: 0; padding-left: 0; list-style-type: none; text-align: left;">
                    <li style="margin-bottom: 0.75rem;"><strong>Custom Die-Cutting:</strong> Unique shapes for
                        hang-tags, labels, or bespoke business cards.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Tactile Textures:</strong> Spot UV (glossy highlights),
                        Soft-Touch lamination (velvet feel), and Foil Stamping (Gold/Silver/Bronze).</li>
                    <li style="margin-bottom: 0.75rem;"><strong>Mounting & Lamination:</strong> Foam-core or Gatorboard
                        mounting for rigid displays; 5mil or 10mil "menu-grade" lamination.</li>
                    <li><strong>Direct-to-Substrate:</strong> Options for printing on metal, acrylic, or wood for
                        high-end signage.</li>
                </ul>
            </div>
        </div>

        <!-- Synergy Modules: Cross-Promotion Integration -->
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; margin-bottom: 3rem;">
            <!-- Graphic Design & Brand Identity -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem;">
                <div
                    style="width: 48px; height: 48px; background: var(--primary-blue); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 28px;">palette</span>
                </div>
                <h3
                    style="font-size: 1rem; font-weight: 800; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal); text-align: center;">
                    Graphic Design & Brand Identity
                </h3>
                <p
                    style="font-size: 0.75rem; color: #64748B; font-style: italic; margin: 0 0 1rem 0; text-align: center;">
                    "Don't just print—stand out."
                </p>
                <div
                    style="font-size: 0.8rem; color: var(--deep-charcoal); line-height: 1.6; text-align: left; margin: 1.25rem 0;">
                    <div style="margin-bottom: 1rem;">
                        <div
                            style="font-weight: 900; color: var(--primary-blue); font-size: 0.7rem; letter-spacing: 0.1em; margin-bottom: 0.5rem; text-transform: uppercase; border-bottom: 1px solid rgba(0,98,255,0.1); padding-bottom: 4px;">
                            WEB</div>
                        <div style="margin-bottom: 0.4rem;"><strong>Identity:</strong> Custom logos, brand guides, and
                            professional stationery sets.</div>
                        <div style="margin-bottom: 0.4rem;"><strong>Web Presence:</strong> Responsive, SEO-optimized
                            sites built for local growth.</div>
                        <div><strong>E-Commerce:</strong> Secure storefronts and digital payment integration.</div>
                    </div>
                    <div>
                        <div
                            style="font-weight: 900; color: var(--primary-blue); font-size: 0.7rem; letter-spacing: 0.1em; margin-bottom: 0.5rem; text-transform: uppercase; border-bottom: 1px solid rgba(0,98,255,0.1); padding-bottom: 4px;">
                            PRINT</div>
                        <div style="margin-bottom: 0.4rem;"><strong>Layout:</strong> Professional brochures, menus, and
                            marketing collateral.</div>
                        <div style="margin-bottom: 0.4rem;"><strong>Ad Assets:</strong> High-performance graphics for
                            social media and digital ads.</div>
                        <div><strong>Large Format:</strong> Signs, banners, and specialty window/vehicle decals.</div>
                    </div>
                </div>
                <button onclick="addDesignSupport()"
                    style="width: 100%; padding: 0.75rem; border-radius: 10px; border: 2px solid var(--primary-blue); background: var(--white); color: var(--primary-blue); font-weight: 800; font-size: 0.75rem; text-transform: uppercase; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem;"
                    onmouseover="this.style.background='var(--primary-blue)'; this.style.color='white';"
                    onmouseout="this.style.background='var(--white)'; this.style.color='var(--primary-blue)';">
                    <span class="material-symbols-outlined" style="font-size: 16px;">add_circle</span>
                    Add to Quote
                </button>
            </div>

            <!-- Direct Mail & Bulk Mailing Services -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem;">
                <div
                    style="width: 48px; height: 48px; background: var(--primary-blue); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 28px;">mail</span>
                </div>
                <h3
                    style="font-size: 1rem; font-weight: 800; text-transform: uppercase; margin: 0 0 0.5rem 0; color: var(--deep-charcoal); text-align: center;">
                    Direct Mail & Bulk Mailing
                </h3>
                <p
                    style="font-size: 0.75rem; color: #64748B; font-style: italic; margin: 0 0 1rem 0; text-align: center;">
                    "We print it. We prep it. We mail it."
                </p>
                <ul
                    style="font-size: 0.8rem; color: var(--deep-charcoal); line-height: 1.7; margin: 0 0 1.25rem 0; padding-left: 0; list-style-type: none; text-align: left;">
                    <li style="margin-bottom: 0.75rem;"><strong>EDDM (Every Door Direct Mail):</strong> Target specific
                        neighborhoods around your business without needing a mailing list.</li>
                    <li style="margin-bottom: 0.75rem;"><strong>List Management:</strong> We clean your data, remove
                        duplicates, and ensure NCOA compliance.</li>
                    <li><strong>Postage Optimization:</strong> We handle the sorting and permit indicias to get you the
                        lowest possible USPS rates.</li>
                </ul>
                <button onclick="requestMailingQuote()"
                    style="width: 100%; padding: 0.75rem; border-radius: 10px; border: 2px solid var(--primary-blue); background: var(--white); color: var(--primary-blue); font-weight: 800; font-size: 0.75rem; text-transform: uppercase; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 0.5rem;"
                    onmouseover="this.style.background='var(--primary-blue)'; this.style.color='white';"
                    onmouseout="this.style.background='var(--white)'; this.style.color='var(--primary-blue)';">
                    <span class="material-symbols-outlined" style="font-size: 16px;">request_quote</span>
                    Request Quote
                </button>
            </div>

            <!-- Custom Quote Request (Placeholder) -->
            <div
                style="background: linear-gradient(135deg, rgba(0, 98, 255, 0.03) 0%, rgba(0, 98, 255, 0.08) 100%); border: 1px solid rgba(0, 98, 255, 0.2); border-radius: 16px; padding: 1.5rem; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <div
                    style="width: 64px; height: 64px; background: var(--primary-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.25rem;">
                    <span class="material-symbols-outlined" style="color: white; font-size: 36px;">arrow_downward</span>
                </div>
                <h3
                    style="font-size: 1.1rem; font-weight: 900; text-transform: uppercase; margin: 0 0 0.75rem 0; color: var(--deep-charcoal);">
                    Need Something Custom?
                </h3>
                <p style="font-size: 0.85rem; color: #64748B; line-height: 1.6; margin: 0 0 1.25rem 0;">
                    For projects over $100 requiring specialized materials, large quantities, or unique specifications.
                </p>
                <button
                    onclick="document.getElementById('quote-form-section').scrollIntoView({ behavior: 'smooth', block: 'start' });"
                    style="width: 100%; padding: 0.85rem; border-radius: 10px; border: none; background: var(--primary-blue); color: var(--white); font-weight: 800; font-size: 0.8rem; text-transform: uppercase; cursor: pointer; transition: all 0.2s; box-shadow: 0 4px 12px rgba(0, 98, 255, 0.3);"
                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(0, 98, 255, 0.4)';"
                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(0, 98, 255, 0.3)';">
                    Jump to Quote Form ↓
                </button>
            </div>
        </div>


    </section>

    <!-- Split-Column Custom Quote Module -->
    <section id="quote-form-section" style="max-width: 1280px; margin: 3rem auto; padding: 0 1rem;">
        <div style="display: grid; grid-template-columns: 6fr 4fr; gap: 2rem; align-items: stretch;">

            <!-- Left Column: Visual/Marketing -->
            <div
                style="background: var(--white); border: 1px solid #E5E7EB; border-radius: 10px; padding: 2rem; display: flex; flex-direction: column;">
                <div style="flex: 1;">
                    <h2
                        style="font-family: 'Inter', sans-serif; font-weight: 800; font-size: 1.75rem; color: var(--deep-charcoal); margin-top: 1.5rem; margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: -0.02em;">
                        Bring Your Ideas to Life
                    </h2>

                    <div
                        style="font-size: 0.95rem; line-height: 1.6; color: #4B5563; font-family: 'Inter', sans-serif;">
                        <img src="./assets/brand_stationery_mockup.jpg" alt="Premium Brand Stationery Mockup"
                            style="width: 320px; float: left; margin: 0 1.5rem 1rem 0; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.12); filter: sepia(0.35) saturate(1.8) hue-rotate(-15deg) brightness(1.05) contrast(1.05); transition: all 0.3s ease;">
                        <p style="margin-bottom: 1rem;">
                            Your business card is often the first thing people take home with them—make it something
                            they want to keep. From bold and modern to clean and classic, you can create cards that
                            truly reflect who you are and what you do.
                        </p>
                        <p style="margin-bottom: 1rem;">
                            But great branding doesn’t stop at the card. Create a complete, professional look with
                            custom envelopes, letterhead, flyers, and catalogs that carry your style across every
                            customer touchpoint. When everything matches in tone and quality, your business feels more
                            established, more memorable, and more trustworthy.
                        </p>
                        <p style="margin-bottom: 1rem;">
                            Whether you’re in a rush or ready to add special finishes and premium paper, you have the
                            flexibility to print what you need, when you need it. And your materials can do more than
                            introduce you—use them to promote, inform, thank, and inspire.
                        </p>
                        <p style="font-weight: 700; color: var(--primary-blue);">
                            From first impression to lasting connection, your brand deserves to stand out.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Right Column: Functional Form -->
            <div
                style="background: var(--white); border: 1px solid #E5E7EB; border-radius: 10px; padding: 2.5rem; box-shadow: 0 12px 40px rgba(0,0,0,0.12); border-top: 4px solid var(--primary-blue);">
                <h3
                    style="font-family: 'Inter', sans-serif; font-weight: 900; font-size: 1.25rem; color: var(--deep-charcoal); margin: 0 0 1.5rem 0; text-transform: uppercase; letter-spacing: 0.05em;">
                    Request a Custom Quote
                </h3>

                <!-- Disclaimer Box -->
                <div
                    style="background: #FFFBEB; border: 1px solid #FCD34D; border-radius: 8px; padding: 1rem; margin-bottom: 1.75rem; display: flex; gap: 0.75rem; align-items: flex-start;">
                    <span class="material-symbols-outlined"
                        style="color: #D97706; font-size: 20px; flex-shrink: 0;">warning</span>
                    <p style="font-size: 0.75rem; color: #92400E; font-weight: 600; margin: 0; line-height: 1.5;">
                        For standard prints, use "Instant Ordering" above for immediate payment and processing. For
                        specialty finishing (folding, cutting, etc.), please complete the form below. <strong>NOTE:
                            Orders requiring a quote will NOT be processed until approved and paid; this will delay your
                            turnaround.</strong>
                    </p>
                </div>

                <form id="persistent-quote-form" style="display: grid; gap: 1rem;">
                    <div>
                        <label
                            style="display: block; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: #64748B; margin-bottom: 0.4rem;">Project
                            Name/Description *</label>
                        <textarea id="quote-project" required placeholder="e.g., Luxury Business Cards with Gold Foil"
                            style="width: 100%; border: 1px solid #E2E8F0; border-radius: 6px; padding: 0.75rem; font-size: 0.85rem; min-height: 80px;"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <label
                                style="display: block; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: #64748B; margin-bottom: 0.4rem;">Quantity
                                Required *</label>
                            <input type="number" id="quote-qty" required min="1" placeholder="e.g., 500"
                                style="width: 100%; border: 1px solid #E2E8F0; border-radius: 6px; padding: 0.75rem; font-size: 0.85rem;">
                        </div>
                        <div>
                            <label
                                style="display: block; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: #64748B; margin-bottom: 0.4rem;">Desired
                                Material *</label>
                            <select id="quote-mat" required
                                style="width: 100%; border: 1px solid #E2E8F0; border-radius: 6px; padding: 0.75rem; font-size: 0.85rem; background: #fff;">
                                <option value="">Select Material</option>
                                <option value="premium">Premium 16pt Silk</option>
                                <option value="linen">Textured Linen</option>
                                <option value="gloss">High Gloss</option>
                                <option value="custom">Custom Specialty</option>
                            </select>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div>
                            <label
                                style="display: block; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: #64748B; margin-bottom: 0.4rem;">Deadline</label>
                            <input type="date" id="quote-deadline"
                                style="width: 100%; border: 1px solid #E2E8F0; border-radius: 6px; padding: 0.75rem; font-size: 0.85rem; font-family: inherit;">
                        </div>
                        <div>
                            <label
                                style="display: block; font-size: 0.7rem; font-weight: 800; text-transform: uppercase; color: #64748B; margin-bottom: 0.4rem;">File
                                Attachment</label>
                            <button type="button"
                                onclick="window.open('https://spaces.hightail.com/space/iYWqhG9d3k', '_blank')"
                                style="width: 100%; border: 1px dashed var(--primary-blue); border-radius: 6px; padding: 0.75rem; font-size: 0.8rem; font-weight: 700; color: var(--primary-blue); background: rgba(0,98,255,0.05); cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                                <span class="material-symbols-outlined" style="font-size: 18px;">cloud_upload</span>
                                Upload to Space
                            </button>
                        </div>
                    </div>

                    <div
                        style="display: flex; align-items: center; gap: 0.75rem; margin-top: 0.5rem; background: #F8FAFC; padding: 0.75rem; border-radius: 6px;">
                        <input type="checkbox" id="quote-recurring" style="width: 18px; height: 18px; cursor: pointer;">
                        <label for="quote-recurring"
                            style="font-size: 0.8rem; color: #475569; font-weight: 600; cursor: pointer;">
                            Is this a recurring business need? <span style="font-weight: 400; opacity: 0.8;">Check if
                                you anticipate volume orders.</span>
                        </label>
                    </div>

                    <button type="submit"
                        style="margin-top: 1rem; width: 100%; background: var(--primary-blue); color: #fff; border: none; border-radius: 8px; padding: 1rem; font-family: 'Inter', sans-serif; font-weight: 900; text-transform: uppercase; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.75rem; box-shadow: 0 4px 12px rgba(0,98,255,0.3); transition: all 0.2s;">
                        Submit Request for Review
                        <span class="material-symbols-outlined" style="font-size: 20px;">send</span>
                    </button>
                </form>
            </div>
        </div>
    </section>


    <footer
        style="background: #0f172a; color: white; padding: 40px; text-align: center; font-size: 0.8rem; margin-top: 80px;">
        &copy; 2026 CopyRight Systems • Goleta, CA • Powered by Neural Cat AI
    </footer>

    <script>
        // Quote form submission handler
        document.getElementById('persistent-quote-form').addEventListener('submit', function (e) {
            e.preventDefault();

            const formData = {
                description: document.getElementById('quote-project').value,
                quantity: document.getElementById('quote-qty').value,
                material: document.getElementById('quote-mat').value,
                deadline: document.getElementById('quote-deadline').value,
                recurringBusiness: document.getElementById('quote-recurring').checked
            };

            console.log('Quote Request:', formData);

            // Show success message
            alert('Thank you! Your custom quote request has been submitted. We\'ll respond within 24 hours with a detailed proposal.' +
                (formData.recurringBusiness ? '\n\nWe\'ve flagged this as a potential recurring business opportunity and will prioritize your quote.' : ''));

            // Reset form
            this.reset();
        });

        // Synergy Module Functions
        function addDesignSupport() {
            const projectDesc = document.getElementById('quote-project');
            if (projectDesc) {
                const currentText = projectDesc.value;
                const designNote = '\n\n[DESIGN SUPPORT REQUESTED]\nPlease include professional graphic design services for this project.';
                if (!currentText.includes('[DESIGN SUPPORT REQUESTED]')) {
                    projectDesc.value = currentText + designNote;
                    projectDesc.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    projectDesc.focus();
                    alert('Design Support has been added to your quote request! Please complete the form below to submit.');
                } else {
                    alert('Design Support is already included in your quote request.');
                }
            }
        }

        function requestMailingQuote() {
            const projectDesc = document.getElementById('quote-project');
            if (projectDesc) {
                const currentText = projectDesc.value;
                const mailingNote = '\n\n[DIRECT MAIL SERVICES REQUESTED]\nPlease include bulk mailing services (EDDM, list management, and postage optimization) for this project.';
                if (!currentText.includes('[DIRECT MAIL SERVICES REQUESTED]')) {
                    projectDesc.value = currentText + mailingNote;
                    projectDesc.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    projectDesc.focus();
                    alert('Direct Mail Services have been added to your quote request! Please complete the form below to submit.');
                } else {
                    alert('Direct Mail Services are already included in your quote request.');
                }
            }
        }

        // Copy Engine JavaScript
        let currentQty = 1;
        let currentColor = 'bw';
        let currentSides = 'single';
        let currentPaperWeight = '20lb';
        let currentPaperSize = 'letter';
        let addons = [];
        let pickupDate = null;
        let pickupTime = null;
        let isRushOrder = false;
        let currentPagesPerOriginal = 1;

        // RATE TABLE
        const rates = {
            // Updated Click Rates (Per Side)
            bw: {
                letter: { simplex: 0.25, duplex: 0.25 }, // B&W Letter: $0.25 per side
                legal: { simplex: 0.30, duplex: 0.30 },
                ledger: { simplex: 0.45, duplex: 0.45 }
            },
            color: {
                letter: { simplex: 0.68, duplex: 0.68 },
                legal: { simplex: 0.79, duplex: 0.79 },
                ledger: { simplex: 1.19, duplex: 1.19 }
            },

            paper: {
                '20lb': 1, '24lb': 1.2, '28lb': 1.5, '32lb': 1.8,
                '65lb': 2.5, '80lb': 3, '100lb': 4
            },
            // Size multipliers removed in favor of explicit rates above.
            addons: {
                '3-hole': 0.03, // Updated to $0.03 per sheet
                'staple': 0.05, // Updated to $0.05 per set
                'laminating': { '3ml': 2.15, '5ml': 3.95 },   // Rates per SHEET
                'binding': { 'coil': 5.00, 'comb': 5.00 }     // Rates per UNIT
            }
        };

        const paperDescriptions = {
            '20lb': {
                name: '20lb Bond (Standard)',
                desc: 'Everyday office paper. Ideal for internal documents, drafts, and high-volume printing where cost efficiency is paramount.'
            },
            '24lb': {
                name: '24lb Bond (Premium)',
                desc: 'Enhanced weight for professional correspondence. Provides a more substantial feel while maintaining excellent printability.'
            },
            '28lb': {
                name: '28lb Bond (Heavy)',
                desc: 'Premium business paper. Perfect for proposals, contracts, and client-facing documents that demand a quality impression.'
            },
            '32lb': {
                name: '32lb Bond (Ultra)',
                desc: 'Ultra-premium writing paper. Exceptional opacity and texture for executive communications and formal presentations.'
            },
            '65lb': {
                name: '65lb Cover (Cardstock)',
                desc: 'Light cardstock. Ideal for flyers, postcards, and marketing materials that require durability without excessive thickness.'
            },
            '80lb': {
                name: '80lb Cover (Thick)',
                desc: 'Medium cardstock. Professional-grade material for business cards, invitations, and presentation covers.'
            },
            '100lb': {
                name: '100lb Cover (Premium)',
                desc: 'Premium finish for high-impact visual presentations.<br>Maximum durability and professional appearance for critical marketing assets.'
            }
        };

        function updatePaperWeight() {
            const select = document.getElementById('paper-weight');
            currentPaperWeight = select.value;
            const info = paperDescriptions[currentPaperWeight];
            document.getElementById('paper-weight-display').textContent = info.name;
            document.getElementById('paper-description').textContent = info.desc;
            calculateTotal();
        }

        function updatePaperSize() {
            currentPaperSize = document.getElementById('paper-size').value;
            calculateTotal();
        }

        function setColor(mode, btn) {
            currentColor = mode;
            btn.closest('.toggle-group').querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            calculateTotal();
        }

        function setSides(mode, btn) {
            currentSides = mode;
            btn.closest('.toggle-group').querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            calculateTotal();
        }

        function updateQty(delta) {
            currentQty = Math.max(1, currentQty + delta);
            document.getElementById('qty-display').textContent = currentQty;
            calculateTotal();
        }

        function updatePagesPerOriginal(delta) {
            currentPagesPerOriginal = Math.max(1, currentPagesPerOriginal + delta);
            document.getElementById('pages-display').textContent = currentPagesPerOriginal;
            calculateTotal();
        }

        // --- ADD-ON LOGIC ---

        function toggleAddon(el) {
            let checkbox, chip;
            if (el.tagName === 'INPUT') {
                checkbox = el;
                chip = el.closest('.addon-chip');
                // Input 'change' event means state is already updated by browser
            } else {
                // Legacy: el is the label wrapper
                chip = el;
                checkbox = chip.querySelector('input[type="checkbox"]');
                checkbox.checked = !checkbox.checked; // Manual toggle for onclick
            }

            const val = checkbox.value;
            const isChecked = checkbox.checked;

            // Mutual Exclusivity Logic (Staple vs Binding is managed below)
            if (isChecked) {
                if (val === 'staple') {
                    // Check if binding is active
                    const bindingCheck = document.querySelector('input[value="binding"]');
                    if (bindingCheck && bindingCheck.checked) {
                        // Deselect binding
                        bindingCheck.click(); // Trigger its handler to close
                    }
                }
            }

            updateAddonUI(chip, isChecked);
            updateAddonsList(val, isChecked);
            calculateTotal();
        }

        function toggleExpandable(label, targetId) {
            // This is called when clicking the HEADER label of an expandable group
            // The click event propagates to the input inside, which triggers 'handleParentToggle' via 'onchange'
            // So we largely don't need to do specific logic here UNLESS the click missed the input label
            // But 'label' click usually triggers input change automatically in HTML5

            // However, to ensure smooth UX if JS is handling styling:
            // Let handleParentToggle do the work.
        }

        function handleParentToggle(checkbox, targetId) {
            const container = checkbox.closest('.addon-expandable');
            const header = checkbox.closest('.addon-chip');
            const optionsDiv = document.getElementById(targetId);
            const isChecked = checkbox.checked;
            const val = checkbox.value;

            // Mutual Exclusivity: Binding vs Staple
            if (val === 'binding' && isChecked) {
                deselectAddon('staple');
            }

            if (isChecked) {
                header.classList.add('selected');
                header.querySelector('.material-symbols-outlined').textContent = 'check_circle';
                optionsDiv.style.display = 'block';
                // Add class to container for border? Optional
            } else {
                header.classList.remove('selected');
                header.querySelector('.material-symbols-outlined').textContent = 'radio_button_unchecked';
                optionsDiv.style.display = 'none';
            }

            updateAddonsList(val, isChecked);
            calculateTotal();
        }

        function deselectAddon(val) {
            const targetInput = document.querySelector(`input[value="${val}"]`);
            if (targetInput && targetInput.checked) {
                // If it's a standard checkbox
                const chip = targetInput.closest('.addon-chip');
                if (chip.classList.contains('header')) {
                    // Expandable
                    targetInput.checked = false;
                    handleParentToggle(targetInput, val === 'laminating' ? 'lamination-options' : 'binding-options');
                } else {
                    targetInput.checked = false;
                    updateAddonUI(chip, false);
                    updateAddonsList(val, false);
                }
            }
        }

        function updateAddonUI(chip, isChecked) {
            const icon = chip.querySelector('.material-symbols-outlined');
            if (isChecked) {
                chip.classList.add('selected');
                icon.textContent = 'check_circle';
            } else {
                chip.classList.remove('selected');
                icon.textContent = 'radio_button_unchecked';
            }
        }

        function updateAddonsList(val, isChecked) {
            if (isChecked) {
                if (!addons.includes(val)) addons.push(val);
            } else {
                addons = addons.filter(a => a !== val);
            }

            // Redirect for custom features
            const customFeatures = ['cutting', 'folding', 'scoring', 'perforation', 'padding'];
            if (isChecked && customFeatures.includes(val)) {
                document.getElementById('quote-form-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // --- PRICING LOGIC ---

        function calculateTotal() {
            let simplexPages = 0;
            let duplexPages = 0;
            let totalSheets = 0;

            // 1. Smart-Calc Logic (Duplex Odd-Page)
            if (currentSides === 'duplex') {
                totalSheets = Math.ceil(currentPagesPerOriginal / 2);
                if (currentPagesPerOriginal % 2 !== 0) {
                    // Odd Pages: (Pages-1) at 2-Sided rate + (1) at 1-Sided rate
                    duplexPages = Math.max(0, currentPagesPerOriginal - 1);
                    simplexPages = 1;
                } else {
                    // Even Pages: All at 2-Sided rate
                    duplexPages = currentPagesPerOriginal;
                    simplexPages = 0;
                }
            } else {
                // 1-Sided
                totalSheets = currentPagesPerOriginal;
                simplexPages = currentPagesPerOriginal;
                duplexPages = 0;
            }

            // 2. Determine Rates
            const modeRates = currentColor === 'color' ? rates.color : rates.bw;
            const sizeRates = modeRates[currentPaperSize]; // { simplex: X, duplex: Y }

            // 3. Multipliers
            const weightMult = rates.paper[currentPaperWeight] || 1;

            // 4. Calculate Base Page Cost (Imprinting + Paper)
            // Note: sizeRates are per SIDE (Click). weightMult applies to handling/material.
            const costSimplex = simplexPages * sizeRates.simplex * weightMult;
            const costDuplex = duplexPages * sizeRates.duplex * weightMult;

            // 5. Add-ons Separation
            let perPageAddonCost = 0;   // For things charged per impression (e.g. 3-hole often per sheet? Let's stick to per logical page? "per page" usually means side.)
            let perSheetAddonCost = 0;  // For things charged per material sheet (Lamination, 3-hole punch usually per sheet)
            let perUnitAddonCost = 0;   // For things charged per book/staple

            if (addons.includes('3-hole')) perSheetAddonCost += rates.addons['3-hole']; // Punching goes through the sheet

            if (addons.includes('laminating')) {
                const type = document.querySelector('input[name="lamination_type"]:checked')?.value || '3ml';
                perSheetAddonCost += rates.addons.laminating[type];
            }

            if (addons.includes('staple')) perUnitAddonCost += rates.addons.staple;

            if (addons.includes('binding')) {
                const type = document.querySelector('input[name="binding_type"]:checked')?.value || 'coil';
                perUnitAddonCost += rates.addons.binding[type];
            }

            // Re-Calculate Total Job Cost
            // Base Cost = (Click Cost Total)
            // Addon Cost = (PerSheet * TotalSheets) + (PerUnit)
            // Note: We don't have per-page addons defined currently (3-hole moved to per sheet)

            let totalBaseCost = costSimplex + costDuplex;
            let totalAddonCost = (perSheetAddonCost * totalSheets);

            // Total per Set
            let costPerSet = totalBaseCost + totalAddonCost;

            // Grand Total
            let grandTotal = (costPerSet * currentQty) + (perUnitAddonCost * currentQty);
            // Minimum Order Enforcer ($2.00)
            let isMinApplied = false;
            if (grandTotal < 2.00) {
                grandTotal = 2.00;
                isMinApplied = true;
            }

            const totalDisplay = document.getElementById('total-price');
            totalDisplay.textContent = `$${grandTotal.toFixed(2)}`;

            // Proactive Notification Logic
            let minCaption = document.getElementById('min-order-caption');
            if (isMinApplied) {
                if (!minCaption) {
                    minCaption = document.createElement('div');
                    minCaption.id = 'min-order-caption';
                    minCaption.style.fontSize = '0.65rem';
                    minCaption.style.color = '#94A3B8';
                    minCaption.style.marginTop = '4px';
                    minCaption.style.textAlign = 'right';
                    minCaption.textContent = 'Copy Order Minimum Applied for Emailed/Digital Files.';
                    totalDisplay.parentNode.appendChild(minCaption);
                }
            } else {
                if (minCaption) {
                    minCaption.remove();
                }
            }

            updateFinishingPreview();
        }

        function updateFinishingPreview() {
            const container = document.getElementById('preview-display');
            const mainCta = document.getElementById('main-cta');
            if (!container) return;

            // Check states
            // We can check the 'addons' array or the DOM elements. DOM is safer for specific sub-types.
            const isStaple = document.querySelector('input[value="staple"]').checked;
            const isLaminate = document.querySelector('input[value="laminating"]').checked;
            const isBinding = document.querySelector('input[value="binding"]').checked;
            const isHolePunch = document.querySelector('input[value="3-hole"]').checked;

            // Reset Button State
            if (mainCta) {
                mainCta.disabled = false;
                mainCta.style.opacity = '1';
                mainCta.style.cursor = 'pointer';
                mainCta.innerHTML = 'Check Out and Pay';
            }

            // PRIORITY 1: STAPLE LIMIT GUARD (Guardrail)
            // Calculate Physical Sheets (Duplex = Half Pages)
            const physicalSheets = currentSides === 'duplex' ? Math.ceil(currentPagesPerOriginal / 2) : currentPagesPerOriginal;

            if (isStaple && physicalSheets > 50) {
                // Disable Checkout
                if (mainCta) {
                    mainCta.disabled = true;
                    mainCta.style.opacity = '0.5';
                    mainCta.style.cursor = 'not-allowed';
                    mainCta.innerHTML = 'Staple Limit Exceeded';
                }

                // Yellow/Red Alert Card (Override)
                container.innerHTML = `
                    <div style="background: #FEFCE8; border: 1px solid #FDE047; border-radius: 10px; padding: 10px; display: flex; flex-direction: column; gap: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); aspect-ratio: 4/3; justify-content: center; width: 100%;">
                        <div style="display: flex; align-items: center; gap: 0.5rem; color: #B45309; font-weight: 800; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em;">
                            <span class="material-symbols-outlined" style="font-size: 20px;">warning</span>
                            Limit Exceeded
                        </div>
                        <div style="font-size: 0.75rem; color: #92400E; line-height: 1.4; font-weight: 500;">
                            CANON 5510 LIMIT: 50 Sheets Max for Stapling. Switch to Binding.
                        </div>
                    </div>
                `;
                return;
            }

            // DYNAMIC STATUS FOOTER (System Minimum)
            const minFooter = `
                <div style="margin-top: auto; padding-top: 0.75rem; border-top: 1px solid #E2E8F0; width: 100%;">
                    <div style="font-size: 0.65rem; color: #94A3B8; font-weight: 600; text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">
                        System Order Minimum: $2.00
                    </div>
                </div>
            `;

            // Common container style with Electric Cobalt Border
            const cardStyle = `background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.08); height: 100%; display: flex; flex-direction: column; border: 2px solid #0066FF;`;

            // PRIORITY 2: BINDING PREVIEW
            if (isBinding) {
                const type = document.querySelector('input[name="binding_type"]:checked')?.value || 'coil';
                const label = type === 'coil' ? 'Spiral Coil' : 'Plastic Comb';
                const imgPath = type === 'coil' ? './assets/spiral_coil_spine.png' : './assets/plastic_comb_spine.png';
                const caption = type === 'coil' ? 'Includes 5ml Clear Front / Black Vinylette Back' : 'Lay-flat design for manuals and presentations.';

                container.innerHTML = `
                    <div style="${cardStyle}">
                        <div style="flex: 2; overflow: hidden; position: relative; background: #F8FAFC; border-bottom: 1px solid #E2E8F0;">
                           <img src="${imgPath}" alt="${label} Binding" style="width: 100%; height: 100%; object-fit: cover; display: block;">
                           <div style="position: absolute; top: 10px; left: 10px; background: rgba(255,255,255,0.9); backdrop-filter: blur(4px); padding: 4px 8px; border-radius: 6px; font-size: 0.65rem; font-weight: 800; color: #0066FF; border: 1px solid rgba(0,102,255,0.2); text-transform: uppercase;">
                                Live Preview
                           </div>
                        </div>
                        <div style="flex: 1; padding: 1.25rem; background: white; display: flex; flex-direction: column;">
                            <h4 style="font-size: 0.9rem; font-weight: 800; color: #1E293B; text-transform: uppercase; margin: 0 0 0.5rem 0;">${label} Binding</h4>
                            <div style="font-size: 0.75rem; color: #475569; line-height: 1.6; margin-bottom: 1rem;">
                                ${caption}
                            </div>
                            
                            <div style="background: #F1F5F9; border-radius: 8px; padding: 0.75rem; margin-bottom: 1rem;">
                                <div style="font-size: 0.65rem; font-weight: 800; color: #64748B; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.4rem; border-bottom: 1px solid #E2E8F0; padding-bottom: 4px;">
                                    FINISHING SPECS
                                </div>
                                <ul style="margin: 0; padding: 0; list-style: none; font-size: 0.7rem; color: #334155; font-weight: 600; line-height: 1.5;">
                                    <li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> 5mil Clear Front Cover</li>
                                    <li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> Black Vinylette Back</li>
                                    ${type === 'coil' ? '<li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> 360° Page Rotation</li>' : ''}
                                </ul>
                            </div>
                            ${minFooter}
                        </div>
                    </div>
                `;
                return;
            }

            // PRIORITY 3: LAMINATION PREVIEW
            if (isLaminate) {
                const type = document.querySelector('input[name="lamination_type"]:checked')?.value || '3ml';
                const label = type === '3ml' ? '3mil Flexible' : '5mil Rigid';
                const imgPath = type === '3ml' ? './assets/lamination_3mil_preview.png' : './assets/lamination_5mil_preview.png';

                container.innerHTML = `
                     <div style="${cardStyle}">
                        <div style="flex: 2; overflow: hidden; position: relative; background: #F8FAFC; border-bottom: 1px solid #E2E8F0;">
                           <img src="${imgPath}" alt="${label} Lamination" style="width: 100%; height: 100%; object-fit: cover; display: block;">
                           ${type === '5ml' ? `<div style="position: absolute; top: 10px; right: 10px; background: #1E293B; color: #FFF; padding: 4px 8px; border-radius: 6px; font-size: 0.65rem; font-weight: 800; border: 1px solid rgba(255,255,255,0.2);">HEAVY DUTY</div>` : ''}
                        </div>
                        <div style="flex: 1; padding: 1.25rem; background: white; display: flex; flex-direction: column;">
                            <h4 style="font-size: 0.9rem; font-weight: 800; color: #1E293B; text-transform: uppercase; margin: 0 0 0.5rem 0;">${label}</h4>
                            <div style="font-size: 0.75rem; color: #475569; line-height: 1.6; margin-bottom: 1rem;">
                                ${type === '5ml' ? 'Maximum durability for menus, signage, and frequently handled documents.' : 'Standard protection that remains flexible and lightweight.'}
                            </div>
                            
                            <div style="background: #F1F5F9; border-radius: 8px; padding: 0.75rem; margin-bottom: 1rem;">
                                <div style="font-size: 0.65rem; font-weight: 800; color: #64748B; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.4rem; border-bottom: 1px solid #E2E8F0; padding-bottom: 4px;">
                                    FINISHING SPECS
                                </div>
                                <ul style="margin: 0; padding: 0; list-style: none; font-size: 0.7rem; color: #334155; font-weight: 600; line-height: 1.5;">
                                    <li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> Sealed Edge Encapsulation</li>
                                    <li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> Wipe-Clean Surface</li>
                                </ul>
                            </div>
                            ${minFooter}
                        </div>
                    </div>
                `;
                return;
            }

            // PRIORITY 4: STAPLE PREVIEW (Valid < 50)
            if (isStaple) {
                container.innerHTML = `
                    <div style="${cardStyle}">
                        <div style="flex: 2; overflow: hidden; position: relative; background: #F8FAFC; border-bottom: 1px solid #E2E8F0;">
                           <img src="./assets/corner_staple_macro.png" alt="Corner Staple" style="width: 100%; height: 100%; object-fit: cover; display: block;">
                        </div>
                        <div style="flex: 1; padding: 1.25rem; background: white; display: flex; flex-direction: column;">
                             <h4 style="font-size: 0.9rem; font-weight: 800; color: #1E293B; text-transform: uppercase; margin: 0 0 0.5rem 0;">Corner Staple</h4>
                            <div style="font-size: 0.75rem; color: #475569; line-height: 1.6; margin-bottom: 1rem;">
                                Single heavy-duty staple applied to the top-left corner (Portrait orientation).
                            </div>
                            
                            <div style="background: #FFFBEB; border: 1px solid #FCD34D; border-radius: 8px; padding: 0.75rem; margin-bottom: 1rem;">
                                <div style="font-size: 0.65rem; font-weight: 800; color: #B45309; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.4rem; border-bottom: 1px solid rgba(180, 83, 9, 0.2); padding-bottom: 4px;">
                                    HARDWARE LIMIT
                                </div>
                                <div style="font-size: 0.7rem; color: #92400E; font-weight: 700;">
                                    Max 50 Sheets for Canon 5510
                                </div>
                            </div>
                            ${minFooter}
                        </div>
                    </div>
                `;
                return;
            }

            // PRIORITY 5: 3-HOLE PUNCH PREVIEW
            if (isHolePunch) {
                container.innerHTML = `
                    <div style="${cardStyle}">
                        <div style="flex: 2; overflow: hidden; position: relative; background: #F8FAFC; border-bottom: 1px solid #E2E8F0;">
                           <img src="./assets/three_hole_punch_macro.png" alt="3-Hole Punch" style="width: 100%; height: 100%; object-fit: cover; display: block;">
                        </div>
                        <div style="flex: 1; padding: 1.25rem; background: white; display: flex; flex-direction: column;">
                             <h4 style="font-size: 0.9rem; font-weight: 800; color: #1E293B; text-transform: uppercase; margin: 0 0 0.5rem 0;">Precision Punch</h4>
                            <div style="font-size: 0.75rem; color: #475569; line-height: 1.6; margin-bottom: 1rem;">
                                Standard 3-hole pattern drilled for immediate binder insertion.
                            </div>
                            
                             <div style="background: #F1F5F9; border-radius: 8px; padding: 0.75rem; margin-bottom: 1rem;">
                                <div style="font-size: 0.65rem; font-weight: 800; color: #64748B; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.4rem; border-bottom: 1px solid #E2E8F0; padding-bottom: 4px;">
                                    FINISHING SPECS
                                </div>
                                <ul style="margin: 0; padding: 0; list-style: none; font-size: 0.7rem; color: #334155; font-weight: 600; line-height: 1.5;">
                                    <li style="display: flex; gap: 6px; align-items: center;"><span class="material-symbols-outlined" style="font-size: 14px; color: #0066FF;">check</span> Standard 3-Ring Binder Alignment</li>
                                </ul>
                            </div>
                            ${minFooter}
                        </div>
                    </div>
                `;
                return;
            }

            // DEFAULT STATE
            container.innerHTML = `
                <div
                    style="height: 100%; width: 100%; background: #F4F4F4; border-radius: 12px; border: 2px dashed #CBD5E1; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 0.5rem; color: #94A3B8;">
                    <span class="material-symbols-outlined" style="font-size: 32px; opacity: 0.5;">preview</span>
                    <span style="font-size: 0.75rem; font-weight: 600;">Select finishing to preview</span>
                </div>
            `;
        }



        function addAnotherJob() {
            alert('Add Another Job functionality - would open a new configuration panel');
        }

        function checkout() {
            const specialtyAddons = ['cutting', 'folding', 'scoring', 'perforation', 'padding'];
            const activeSpecialty = addons.filter(a => specialtyAddons.includes(a));
            const pDate = document.getElementById('pickup-date').value;
            const pTime = document.getElementById('pickup-time').value;

            if (activeSpecialty.length > 0) {
                // If the user hasn't filled in their info (pickup info), link directly to Hightail Quote Space
                if (!pDate || !pTime) {
                    window.open('https://spaces.hightail.com/space/iYWqhG9d3k', '_blank');
                    return;
                }

                // Email Bridge
                const services = activeSpecialty.map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(', ');
                const specs = `${currentPagesPerOriginal} x ${currentColor === 'color' ? 'Color' : 'B&W'}`;
                const subject = encodeURIComponent(`!!! PRIORITY CUSTOM QUOTE: [Store Action Required] !!!`);
                const body = encodeURIComponent(
                    `ACTION REQUIRED: This is a custom agency request from the website. Respond to client within 1 hour.\n\n` +
                    `Client Selection: ${services}\n` +
                    `Base Job: ${specs}\n\n` +
                    `Please reply to this email to provide your file and finalize your quote.`
                );
                const bcc = encodeURIComponent(`copyrightprintingsb@gmail.com`);
                window.location.href = `mailto:orders@copyrightsb.com?subject=${subject}&body=${body}&bcc=${bcc}`;
            } else {
                alert('Proceeding to checkout with total: ' + document.getElementById('total-price').textContent);
            }
        }

        function updateStoreStatus() {
            const statusText = document.getElementById('store-status-text');
            const statusDot = document.getElementById('store-status-dot');
            if (!statusText || !statusDot) return;

            const now = new Date();
            const day = now.getDay();
            const hour = now.getHours();
            const minute = now.getMinutes();
            const currentTime = hour + minute / 60;

            let isOpen = false;

            if (day >= 1 && day <= 5) {
                if (currentTime >= 9 && currentTime < 17) isOpen = true;
            } else if (day === 6) {
                if (currentTime >= 11 && currentTime < 14) isOpen = true;
            }

            if (isOpen) {
                statusText.innerText = 'OPEN NOW';
                statusText.style.color = 'var(--emerald)';
                statusDot.style.background = 'var(--emerald)';
            } else {
                statusText.innerText = 'CLOSED';
                statusText.style.color = '#EF4444';
                statusDot.style.background = '#EF4444';
            }
        }
        updateStoreStatus();
        setInterval(updateStoreStatus, 60000);

        // Pick-Up Logistics Functions
        function initializePickupTimes() {
            const timeSelect = document.getElementById('pickup-time');
            const dateInput = document.getElementById('pickup-date');

            // Set minimum date to today
            const today = new Date();
            dateInput.min = today.toISOString().split('T')[0];

            // Generate time slots based on operating hours
            const weekdaySlots = generateTimeSlots(9, 17); // M-F 9AM-5PM
            const saturdaySlots = generateTimeSlots(11, 14); // SAT 11AM-2PM

            // Store slots for later use
            window.weekdaySlots = weekdaySlots;
            window.saturdaySlots = saturdaySlots;
        }

        function generateTimeSlots(startHour, endHour) {
            const slots = [];
            for (let hour = startHour; hour < endHour; hour++) {
                for (let min of [0, 30]) {
                    const timeStr = formatTime(hour, min);
                    slots.push({ value: `${hour}:${min.toString().padStart(2, '0')}`, label: timeStr });
                }
            }
            return slots;
        }

        function formatTime(hour, min) {
            const period = hour >= 12 ? 'PM' : 'AM';
            const displayHour = hour > 12 ? hour - 12 : (hour === 0 ? 12 : hour);
            return `${displayHour}:${min.toString().padStart(2, '0')} ${period}`;
        }

        function validatePickupTime() {
            const dateInput = document.getElementById('pickup-date');
            const timeSelect = document.getElementById('pickup-time');
            const rushIndicator = document.getElementById('rush-indicator');

            if (!dateInput.value) {
                timeSelect.innerHTML = '<option value="">Select date first...</option>';
                rushIndicator.classList.add('hidden');
                return;
            }

            const selectedDate = new Date(dateInput.value + 'T00:00:00');
            const dayOfWeek = selectedDate.getDay();

            // Sunday (0) is closed
            if (dayOfWeek === 0) {
                timeSelect.innerHTML = '<option value="">Closed on Sundays</option>';
                rushIndicator.classList.add('hidden');
                return;
            }

            // Populate time slots based on day
            const slots = dayOfWeek === 6 ? window.saturdaySlots : window.weekdaySlots;
            timeSelect.innerHTML = '<option value="">Select time...</option>';
            slots.forEach(slot => {
                const option = document.createElement('option');
                option.value = slot.value;
                option.textContent = slot.label;
                timeSelect.appendChild(option);
            });

            // Check for rush order if time is selected
            if (timeSelect.value) {
                checkRushOrder(dateInput.value, timeSelect.value);
            }
        }

        function checkRushOrder(date, time) {
            const rushIndicator = document.getElementById('rush-indicator');

            if (!date || !time) {
                rushIndicator.classList.add('hidden');
                isRushOrder = false;
                calculateTotal();
                return;
            }

            const [hours, minutes] = time.split(':').map(Number);
            const pickupDateTime = new Date(date + 'T00:00:00');
            pickupDateTime.setHours(hours, minutes, 0, 0);

            const now = new Date();
            const twoHoursFromNow = new Date(now.getTime() + (2 * 60 * 60 * 1000));

            if (pickupDateTime <= twoHoursFromNow) {
                rushIndicator.classList.remove('hidden');
                isRushOrder = true;
            } else {
                rushIndicator.classList.add('hidden');
                isRushOrder = false;
            }

            calculateTotal();
        }

        // Update calculateTotal to include rush fee




        // Initialize pickup times and lead parameters on page load
        document.addEventListener('DOMContentLoaded', function () {
            initializePickupTimes();

            // Lead Flagging Logic: Pick up subject from URL
            const urlParams = new URLSearchParams(window.location.search);
            const subject = urlParams.get('subject');
            if (subject) {
                const projectField = document.getElementById('quote-project');
                if (projectField) {
                    projectField.value = subject + ": ";
                    setTimeout(() => {
                        projectField.focus();
                        // Scroll to the quote section if a subject is present
                        document.getElementById('quote-form-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 500);
                }
            }

            // Add event listener for time selection
            document.getElementById('pickup-time').addEventListener('change', function () {
                const dateInput = document.getElementById('pickup-date');
                if (dateInput.value && this.value) {
                    checkRushOrder(dateInput.value, this.value);
                }
            });
        });

        // Initialize
        calculateTotal(); // init
    </script>
    <!-- TRACKING MODAL OVERLAY -->
    <div id="trackingOverlay"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(8px); z-index: 9999; align-items: center; justify-content: center;">
        <div
            style="background: #111; border: 1px solid #d4af37; padding: 40px; border-radius: 20px; text-align: center; max-width: 400px; width: 90%; position: relative; box-shadow: 0 0 40px rgba(212, 175, 55, 0.2);">
            <button onclick="toggleTrackingModal()"
                style="position: absolute; top: 15px; right: 15px; background: none; border: none; color: #666; cursor: pointer; font-size: 1.2rem;">✕</button>

            <h2
                style="color: #d4af37; margin: 0 0 20px 0; font-family: 'Libre Baskerville', serif; text-transform: uppercase; font-size: 1.5rem;">
                Track Package</h2>
            <p style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 20px;">Enter your tracking number below</p>

            <input type="text" id="trackNum" placeholder="Tracking Number..."
                style="width: 100%; padding: 15px; background: #222; border: 1px solid #333; color: white; border-radius: 8px; margin-bottom: 20px; font-family: 'Inter', sans-serif; font-size: 1rem; box-sizing: border-box; text-align: center; letter-spacing: 1px;">

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px;">
                <button onclick="routeTracking('UPS')"
                    style="padding: 10px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.8rem; transition: 0.2s;"
                    onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">UPS</button>
                <button onclick="routeTracking('FEDEX')"
                    style="padding: 10px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.8rem; transition: 0.2s;"
                    onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">FedEx</button>
                <button onclick="routeTracking('DHL')"
                    style="padding: 10px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.8rem; transition: 0.2s;"
                    onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">DHL</button>
                <button onclick="routeTracking('USPS')"
                    style="padding: 10px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 0.8rem; transition: 0.2s;"
                    onmouseover="this.style.background='#444'" onmouseout="this.style.background='#333'">USPS</button>
            </div>

            <button onclick="autoDetect()"
                style="width: 100%; padding: 15px; background: #d4af37; color: #000; border: none; border-radius: 8px; font-weight: 900; cursor: pointer; letter-spacing: 1px; transition: 0.2s; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);"
                onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">TRACK
                NOW</button>
        </div>
    </div>

    <script>
        function toggleTrackingModal() {
            const modal = document.getElementById('trackingOverlay');
            if (modal.style.display === 'flex') {
                modal.style.display = 'none';
            } else {
                modal.style.display = 'flex';
                setTimeout(() => { if (document.getElementById('trackNum')) document.getElementById('trackNum').focus(); }, 100);
            }
        }

        function routeTracking(carrier) {
            const num = document.getElementById('trackNum').value.trim();
            if (!num) { alert('Please enter a tracking number.'); return; }
            let url = '';
            switch (carrier) {
                case 'UPS': url = 'https://www.ups.com/track?tracknum=' + num; break;
                case 'FEDEX': url = 'https://www.fedex.com/fedextrack/?trknbr=' + num; break;
                case 'DHL': url = 'https://www.dhl.com/en/express/tracking.html?AWB=' + num; break;
                case 'USPS': url = 'https://tools.usps.com/go/TrackConfirmAction?tLabels=' + num; break;
            }
            window.open(url, '_blank');
        }

        function autoDetect() {
            const num = document.getElementById('trackNum').value.trim();
            if (!num) { alert('Please enter a tracking number.'); return; }
            window.open('https://parcelsapp.com/en/tracking/' + num, '_blank');
        }

        window.addEventListener('click', function (e) {
            const modal = document.getElementById('trackingOverlay');
            if (e.target === modal) {
                modal.style.display = 'none';
            }
            if (!e.target.closest('#bookBtn')) {
                var d = document.getElementById("appointmentDropdown");
                if (d) {
                    d.style.display = "none";
                    if (document.getElementById("btnArrow")) document.getElementById("btnArrow").innerHTML = "↓";
                }
            }
        });

        // Store Hours Status Logic (Goleta, CA - PST)
        function updateStoreStatus() {
            const statusText = document.getElementById('store-status-text');
            const statusDot = document.getElementById('store-status-dot');
            if (!statusText || !statusDot) return;

            const now = new Date();
            const goletaTime = new Intl.DateTimeFormat('en-US', {
                timeZone: 'America/Los_Angeles',
                hour12: false,
                weekday: 'short',
                hour: 'numeric',
                minute: 'numeric'
            }).formatToParts(now);

            const day = goletaTime.find(p => p.type === 'weekday').value;
            const hour = parseInt(goletaTime.find(p => p.type === 'hour').value);
            const minute = parseInt(goletaTime.find(p => p.type === 'minute').value);
            const totalMinutes = hour * 60 + minute;

            let isOpen = false;

            if (['Mon', 'Tue', 'Wed', 'Thu', 'Fri'].includes(day)) {
                if (totalMinutes >= 540 && totalMinutes < 1020) isOpen = true;
            } else if (day === 'Sat') {
                if (totalMinutes >= 660 && totalMinutes < 840) isOpen = true;
            }

            if (isOpen) {
                statusText.style.color = '#10B981'; // Emerald Green
                statusText.innerHTML = 'OPEN';
                statusDot.className = 'dot-glow';
                statusDot.style.background = '#10B981';
            } else {
                statusText.style.color = '#EF4444'; // Red
                statusText.innerHTML = 'CLOSED';
                statusDot.className = '';
                statusDot.style.background = '#EF4444';
            }
        }
        updateStoreStatus();
        setInterval(updateStoreStatus, 60000);
    </script>
</body>

</html>